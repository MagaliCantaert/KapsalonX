@model EE.KapsalonX.Web.ViewModels.ContactIndexVm
@{
    ViewData["Title"] = "Contact";
}

@*<div class="container">
        <header>
            <h2>Contacteer ons</h2>
        </header>
    </div>
    <div class="container">
        <div class="col-md-6">
            <div asp-validation-summary="ModelOnly"></div>
            <form method="post">
                <div class="form-group">
                    <label asp-for="Voornaam"></label>
                    <input asp-for="Voornaam" class="form-control" placeholder="Geef uw voornaam in" />
                    <span asp-validation-for="Voornaam" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Achternaam"></label>
                    <input asp-for="Achternaam" class="form-control" placeholder="Geef uw achternaam in" />
                    <span asp-validation-for="Achternaam" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Emailadres">E-mailadres</label>
                    <input asp-for="Emailadres" class="form-control" placeholder="Geef uw e-mailadres in" />
                    <span asp-validation-for="Emailadres" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Telefoonnummer"></label>
                    <input asp-for="Telefoonnummer" class="form-control" placeholder="Geef uw telefoonnummer in" />
                    <span asp-validation-for="Telefoonnummer" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Bericht"></label>
                    <textarea asp-for="Bericht" class="form-control" placeholder="Geef uw bericht in"></textarea>
                    <span asp-validation-for="Bericht" class="text-danger"></span>
                </div>
                <button type="submit" class="btn btn-success">Verstuur bericht</button>
                <button type="reset" class="btn btn-danger">Reset</button>
            </form>
        </div>
    </div>*@
<div class="container">
    <header>
        <h2>Contacteer ons</h2>
    </header>
</div>
<div id="app" class="container">
    <form class="vue-form" @submit.prevent="submit">
            <div>
                <p>Voornaam</p>
                <input type="text" name="voornaam" id="voornaam" required="" v-model="voornaam">
            </div>
            <div>
                <p>Achternaam</p>
                <input type="text" name="achternaam" id="achternaam" required="" v-model="achternaam">
            </div>
            <div>
                <p>E-mailadres</p>
                <input type="email" name="email" id="email" required=""
                       :class="{ email , error: !email.valid }"
                       v-model="email.value">
            </div>
            <div>
                <p>Telefoonnummer</p>
                <input type="tel" name="telefoon" id="telefoon" required="" v-model="telefoon">
            </div>
            <div>
                <p>Kies onderwerp</p>
                <p class="select">
                    <select class="budget" v-model="onderwerp.member" required="">
                        <option value="0">Algemene vraag</option>
                        <option value="1">Specifieke behandeling</option>
                        <option value="2">Afspraak</option>
                        <option value="3">Andere</option>
                    </select>
                </p>
            </div>
            <div>
                <p>Uw bericht</p>
                <textarea class="bericht" name="bericht" id="bericht" required=""
                          v-model="bericht.text"
                          ::maxlength="bericht.maxlength"></textarea>
                <span class="counter">{{ bericht.text.length }} / {{ bericht.maxlength }}</span>
            </div>
            <div>
                <button type="submit" class="btn btn-success">Verstuur bericht</button>
                <button type="reset" class="btn btn-danger">Reset</button>
            </div>
    </form>


</div>
@section scripts{
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"></script>
    <script>
        new Vue({
            el: "#app",
            data: function () {
                return {
                    voornaam: "",
                    achternaam: "",
                    email: {
                        value: ""
                    },
                    telefoon: "",
                    onderwerp: {
                        keuze: "0"
                    },
                    bericht: {
                        text: "",
                        maxlength: 500
                    },
                    submitted: false
                };
            },
            methods: {
                submit: function () {
                    this.submitted = true;
                },
                validate: function (type, value) {
                    if (type === "email") {
                        this.email.valid = this.isEmail(value) ? true : false;
                    }
                },
                isEmail: function (value) {
                    return emailRegExp.test(value);
                },
            },
            watch: {
                "email.value": function (value) {
                    this.validate("email", value);
                }
            }
        });
    </script>
}

